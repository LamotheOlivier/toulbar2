\begin{enumerate}
\item Download a binary weighted constraint satisfaction problem (WCSP) file {\em example.wcsp} from the toulbar2's Documentation Web page. Solve it with default options:
\begin{DoxyCode}
	toulbar2 EXAMPLES/example.wcsp
\end{DoxyCode}
{\scriptsize
\begin{DoxyCode}
Read 25 variables, with 5 values at most, and 63 cost functions, with maximum arity 2.
Cost function decomposition time : 7e-06 seconds.
Reverse DAC dual bound: 20 (+10.000%)
Preprocessing time: 0.001 seconds.
24 unassigned variables, 116 values in all current domains (med. size:5, max size:5) and 62 non-unary cost functions (med. degree:5)
Initial lower and upper bounds: [20, 64] 68.750%
New solution: 28 (0 backtracks, 6 nodes, depth 7)
New solution: 27 (5 backtracks, 15 nodes, depth 4)
Optimality gap: [21, 27] 22.222 % (8 backtracks, 18 nodes)
Optimality gap: [22, 27] 18.519 % (21 backtracks, 55 nodes)
Optimality gap: [23, 27] 14.815 % (51 backtracks, 126 nodes)
Optimality gap: [24, 27] 11.111 % (71 backtracks, 169 nodes)
Optimality gap: [25, 27] 7.407 % (90 backtracks, 225 nodes)
Optimality gap: [27, 27] 0.000 % (103 backtracks, 258 nodes)
Node redundancy during HBFS: 19.767 %
Optimum: 27 in 103 backtracks and 258 nodes ( 271 removals by DEE) and 0.007 seconds.
end.
\end{DoxyCode}}
\item Solve a WCSP using INCOP, a local search method~\cite{idwalk:cp04} applied just after preprocessing, in order to find a good upper bound before a complete search:
\begin{DoxyCode}
	toulbar2 EXAMPLES/example.wcsp -i
\end{DoxyCode}
{\scriptsize
\begin{DoxyCode}
Read 25 variables, with 5 values at most, and 63 cost functions, with maximum arity 2.
Cost function decomposition time : 1.2e-05 seconds.
Reverse DAC dual bound: 20 (+10.000%)
Preprocessing time: 0.001 seconds.
New solution: 27 (0 backtracks, 0 nodes, depth 1)
INCOP solving time: 0.242 seconds.
24 unassigned variables, 116 values in all current domains (med. size:5, max size:5) and 62 non-unary cost functions (med. degree:5)
Initial lower and upper bounds: [20, 27] 25.926%
Optimality gap: [21, 27] 22.222 % (4 backtracks, 8 nodes)
Optimality gap: [22, 27] 18.519 % (17 backtracks, 40 nodes)
Optimality gap: [23, 27] 14.815 % (109 backtracks, 238 nodes)
Optimality gap: [24, 27] 11.111 % (112 backtracks, 249 nodes)
Optimality gap: [27, 27] 0.000 % (119 backtracks, 270 nodes)
Node redundancy during HBFS: 11.852 %
Optimum: 27 in 119 backtracks and 270 nodes ( 264 removals by DEE) and 0.250 seconds.
end.
\end{DoxyCode}}
\item Solve a WCSP with an initial upper bound and save its (first) optimal solution
in filename ''example.sol'':
\begin{DoxyCode}
	toulbar2 EXAMPLES/example.wcsp -ub=28 -w=example.sol
\end{DoxyCode}
{\scriptsize
\begin{DoxyCode}
Read 25 variables, with 5 values at most, and 63 cost functions, with maximum arity 2.
Cost function decomposition time : 8e-06 seconds.
Reverse DAC dual bound: 20 (+10.000%)
Preprocessing time: 0.001 seconds.
24 unassigned variables, 116 values in all current domains (med. size:5, max size:5) and 62 non-unary cost functions (med. degree:5)
Initial lower and upper bounds: [20, 28] 28.571%
New solution: 27 (0 backtracks, 4 nodes, depth 5)
Optimality gap: [21, 27] 22.222 % (6 backtracks, 14 nodes)
Optimality gap: [22, 27] 18.519 % (22 backtracks, 55 nodes)
Optimality gap: [23, 27] 14.815 % (54 backtracks, 129 nodes)
Optimality gap: [24, 27] 11.111 % (58 backtracks, 144 nodes)
Optimality gap: [25, 27] 7.407 % (74 backtracks, 210 nodes)
Optimality gap: [27, 27] 0.000 % (83 backtracks, 243 nodes)
Node redundancy during HBFS: 31.276 %
Optimum: 27 in 83 backtracks and 243 nodes ( 289 removals by DEE) and 0.006 seconds.
end.
\end{DoxyCode}}
\begin{DoxyCode}
cat example.sol
# each value corresponds to one variable assignment in problem file order
\end{DoxyCode}
{\scriptsize
\begin{DoxyCode}
1 0 2 2 2 2 0 4 2 0 4 1 0 0 3 0 3 1 2 4 2 1 2 4 1
\end{DoxyCode}}
\item Download a larger WCSP file {\em scen06.wcsp} from the toulbar2's Documentation Web page. Solve it using a limited discrepancy search strategy~\cite{Ginsberg95} in order to speed-up the search for finding good upper bounds first\footnote{By default, toulbar2 uses another diversification strategy based on hybrid best-first search~\cite{Katsirelos15a}.}:
\begin{DoxyCode}
	toulbar2 EXAMPLES/scen06.wcsp -l
\end{DoxyCode}
{\scriptsize
\begin{DoxyCode}
Read 100 variables, with 44 values at most, and 1222 cost functions, with maximum arity 2.
Cost function decomposition time : 5.6e-05 seconds.
Preprocessing time: 0.171626 seconds.
82 unassigned variables, 3273 values in all current domains (med. size:44, max size:44) and 327 non-unary cost functions (med. degree:6)
Initial lower and upper bounds: [0, 248338] 100.000%
--- [0] LDS 0 --- (0 nodes)
c 2097152 Bytes allocated for long long stack.
c 4194304 Bytes allocated for long long stack.
c 8388608 Bytes allocated for long long stack.
New solution: 8451 (0 backtracks, 110 nodes, depth 1)
--- [0] LDS 1 --- (110 nodes)
New solution: 6134 (2 backtracks, 386 nodes, depth 2)
New solution: 5795 (4 backtracks, 527 nodes, depth 2)
New solution: 5711 (5 backtracks, 590 nodes, depth 2)
New solution: 5444 (6 backtracks, 676 nodes, depth 2)
New solution: 4828 (7 backtracks, 747 nodes, depth 2)
New solution: 4507 (9 backtracks, 853 nodes, depth 2)
New solution: 4408 (10 backtracks, 910 nodes, depth 2)
New solution: 4145 (15 backtracks, 1047 nodes, depth 2)
New solution: 3730 (18 backtracks, 1112 nodes, depth 2)
--- [0] LDS 2 --- (1132 nodes)
New solution: 3635 (64 backtracks, 1606 nodes, depth 3)
New solution: 3585 (150 backtracks, 2169 nodes, depth 3)
New solution: 3493 (168 backtracks, 2283 nodes, depth 3)
New solution: 3472 (171 backtracks, 2312 nodes, depth 3)
--- [0] LDS 4 --- (2420 nodes)
New solution: 3463 (988 backtracks, 5683 nodes, depth 5)
New solution: 3441 (990 backtracks, 5711 nodes, depth 5)
New solution: 3401 (1101 backtracks, 6178 nodes, depth 5)
--- [0] Search with no discrepancy limit --- (8111 nodes)
Optimality gap: [226, 3401] 93.355 % (44869 backtracks, 94455 nodes)
New solution: 3400 (66078 backtracks, 136900 nodes, depth 27)
New solution: 3399 (66079 backtracks, 136902 nodes, depth 26)
New solution: 3389 (66091 backtracks, 136933 nodes, depth 30)
Optimality gap: [813, 3389] 76.011 % (93403 backtracks, 191535 nodes)
Optimality gap: [1088, 3389] 67.896 % (94456 backtracks, 193641 nodes)
Optimality gap: [1862, 3389] 45.058 % (96296 backtracks, 197321 nodes)
Optimality gap: [2036, 3389] 39.923 % (96395 backtracks, 197519 nodes)
Optimality gap: [2754, 3389] 18.737 % (96442 backtracks, 197613 nodes)
Optimum: 3389 in 96443 backtracks and 197615 nodes ( 384523 removals by DEE) and 53.398 seconds.
end.
\end{DoxyCode}}
\item Download a cluster decomposition file {\em scen06.dec} (each line corresponds to a cluster of variables, clusters may overlap). Solve the previous WCSP using a variable neighborhood search algorithm (UDGVNS)~\cite{Ouali17} during 5 seconds:
\begin{DoxyCode}
	toulbar2 EXAMPLES/scen06.wcsp EXAMPLES/scen06.dec -vns -time=5
\end{DoxyCode}
{\scriptsize
\begin{DoxyCode}
Read 100 variables, with 44 values at most, and 1222 cost functions, with maximum arity 2.
Cost function decomposition time : 7.8e-05 seconds.
Preprocessing time: 0.171271 seconds.
82 unassigned variables, 3273 values in all current domains (med. size:44, max size:44) and 327 non-unary cost functions (med. degree:6)
Initial lower and upper bounds: [0, 248338] 100.000%
c 2097152 Bytes allocated for long long stack.
c 4194304 Bytes allocated for long long stack.
c 8388608 Bytes allocated for long long stack.
New solution: 8451 (0 backtracks, 110 nodes, depth 111)
Problem decomposition in 55 clusters with size distribution: min: 1 median: 5 mean: 4.782 max: 12
****** Restart 1 with 1 discrepancies and UB=8451 ****** (110 nodes)
New solution: 8440 (0 backtracks, 110 nodes, depth 1)
New solution: 7474 (0 backtracks, 112 nodes, depth 2)
New solution: 6481 (0 backtracks, 117 nodes, depth 2)
New solution: 6358 (0 backtracks, 117 nodes, depth 1)
New solution: 6252 (0 backtracks, 120 nodes, depth 2)
New solution: 6250 (0 backtracks, 120 nodes, depth 1)
New solution: 6248 (0 backtracks, 120 nodes, depth 1)
New solution: 6223 (0 backtracks, 120 nodes, depth 1)
New solution: 6131 (0 backtracks, 123 nodes, depth 2)
New solution: 6121 (0 backtracks, 123 nodes, depth 1)
New solution: 6022 (0 backtracks, 123 nodes, depth 1)
New solution: 5098 (2 backtracks, 141 nodes, depth 2)
New solution: 5096 (2 backtracks, 141 nodes, depth 1)
New solution: 5095 (2 backtracks, 141 nodes, depth 1)
New solution: 5094 (2 backtracks, 141 nodes, depth 1)
New solution: 4887 (5 backtracks, 205 nodes, depth 2)
New solution: 4630 (10 backtracks, 232 nodes, depth 2)
New solution: 4629 (10 backtracks, 234 nodes, depth 2)
New solution: 4557 (30 backtracks, 366 nodes, depth 2)
New solution: 4556 (35 backtracks, 383 nodes, depth 1)
New solution: 4544 (37 backtracks, 395 nodes, depth 2)
New solution: 4388 (48 backtracks, 549 nodes, depth 2)
New solution: 4220 (68 backtracks, 706 nodes, depth 2)
New solution: 4218 (68 backtracks, 706 nodes, depth 1)
New solution: 4216 (68 backtracks, 706 nodes, depth 1)
New solution: 4208 (70 backtracks, 713 nodes, depth 1)
New solution: 4133 (71 backtracks, 715 nodes, depth 1)
New solution: 4127 (72 backtracks, 724 nodes, depth 2)
New solution: 4125 (75 backtracks, 733 nodes, depth 1)
New solution: 3709 (97 backtracks, 898 nodes, depth 2)
New solution: 3703 (240 backtracks, 2276 nodes, depth 2)
New solution: 3700 (240 backtracks, 2276 nodes, depth 1)
New solution: 3598 (278 backtracks, 2540 nodes, depth 2)
New solution: 3588 (279 backtracks, 2543 nodes, depth 1)
New solution: 3562 (280 backtracks, 2546 nodes, depth 2)
New solution: 3542 (280 backtracks, 2549 nodes, depth 2)
New solution: 3523 (283 backtracks, 2564 nodes, depth 2)
New solution: 3473 (384 backtracks, 3243 nodes, depth 2)
New solution: 3472 (386 backtracks, 3251 nodes, depth 2)
New solution: 3471 (388 backtracks, 3256 nodes, depth 1)
New solution: 3470 (388 backtracks, 3256 nodes, depth 1)
New solution: 3469 (391 backtracks, 3264 nodes, depth 1)
New solution: 3447 (409 backtracks, 3344 nodes, depth 2)
New solution: 3437 (414 backtracks, 3377 nodes, depth 2)
New solution: 3430 (439 backtracks, 3517 nodes, depth 2)
New solution: 3420 (439 backtracks, 3517 nodes, depth 1)
New solution: 3412 (468 backtracks, 3664 nodes, depth 2)
New solution: 3389 (517 backtracks, 4099 nodes, depth 2)
****** Restart 2 with 2 discrepancies and UB=3389 ****** (5528 nodes)

Time limit expired... Aborting...
\end{DoxyCode}}
\item Download another difficult instance {\em scen07.wcsp}. Solve it using a variable neighborhood search algorithm (UDGVNS) with maximum cardinality search cluster decomposition and absorption~\cite{Ouali17} during 5 seconds:
\begin{DoxyCode}
	toulbar2 EXAMPLES/scen07.wcsp -vns -O=-1 -E -time=5
\end{DoxyCode}
{\scriptsize
\begin{DoxyCode}
Read 200 variables, with 44 values at most, and 2665 cost functions, with maximum arity 2.
Cost function decomposition time : 0.000209 seconds.
Reverse DAC dual bound: 10001 (+0.010%)
Preprocessing time: 0.415 seconds.
162 unassigned variables, 6481 values in all current domains (med. size:44, max size:44) and 764 non-unary cost functions (med. degree:8)
Initial lower and upper bounds: [10001, 436543501] 99.998%
c 2097152 Bytes allocated for long long stack.
c 4194304 Bytes allocated for long long stack.
c 8388608 Bytes allocated for long long stack.
New solution: 1504924 (0 backtracks, 233 nodes, depth 234)
Tree decomposition time: 0.003 seconds.
Problem decomposition in 25 clusters with size distribution: min: 3 median: 10 mean: 10.360 max: 38
****** Restart 1 with 1 discrepancies and UB=1504924 ****** (233 nodes)
New solution: 1485526 (0 backtracks, 233 nodes, depth 1)
New solution: 1485524 (0 backtracks, 233 nodes, depth 1)
New solution: 1485324 (0 backtracks, 233 nodes, depth 1)
New solution: 1445622 (0 backtracks, 233 nodes, depth 1)
New solution: 1445621 (0 backtracks, 233 nodes, depth 1)
New solution: 1445520 (0 backtracks, 233 nodes, depth 1)
New solution: 1425518 (0 backtracks, 236 nodes, depth 2)
New solution: 1425120 (0 backtracks, 244 nodes, depth 2)
New solution: 1425118 (0 backtracks, 244 nodes, depth 1)
New solution: 1425117 (0 backtracks, 244 nodes, depth 1)
New solution: 1415116 (0 backtracks, 244 nodes, depth 1)
New solution: 1405119 (0 backtracks, 244 nodes, depth 1)
New solution: 1404917 (4 backtracks, 258 nodes, depth 1)
New solution: 1394914 (4 backtracks, 258 nodes, depth 1)
New solution: 1385310 (5 backtracks, 269 nodes, depth 2)
New solution: 1385217 (6 backtracks, 274 nodes, depth 2)
New solution: 1375216 (6 backtracks, 274 nodes, depth 1)
New solution: 1375118 (6 backtracks, 274 nodes, depth 1)
New solution: 1365317 (6 backtracks, 278 nodes, depth 2)
New solution: 1365313 (10 backtracks, 291 nodes, depth 1)
New solution: 1365114 (10 backtracks, 294 nodes, depth 2)
New solution: 1365112 (12 backtracks, 300 nodes, depth 1)
New solution: 1365111 (12 backtracks, 300 nodes, depth 1)
New solution: 1364913 (12 backtracks, 301 nodes, depth 2)
New solution: 1364911 (16 backtracks, 313 nodes, depth 1)
New solution: 1344915 (22 backtracks, 361 nodes, depth 2)
New solution: 1344914 (26 backtracks, 374 nodes, depth 1)
New solution: 1344913 (26 backtracks, 374 nodes, depth 1)
New solution: 1344815 (26 backtracks, 374 nodes, depth 1)
New solution: 1344411 (26 backtracks, 380 nodes, depth 2)
New solution: 1344409 (26 backtracks, 380 nodes, depth 1)
New solution: 1344407 (26 backtracks, 380 nodes, depth 1)
New solution: 1344307 (30 backtracks, 394 nodes, depth 2)
New solution: 1344202 (30 backtracks, 394 nodes, depth 1)
New solution: 1343799 (40 backtracks, 452 nodes, depth 2)
New solution: 1343797 (49 backtracks, 483 nodes, depth 2)
New solution: 1343795 (71 backtracks, 565 nodes, depth 1)
New solution: 484210 (121 backtracks, 865 nodes, depth 2)
New solution: 484208 (121 backtracks, 865 nodes, depth 1)
New solution: 484207 (121 backtracks, 865 nodes, depth 1)
New solution: 474106 (123 backtracks, 873 nodes, depth 2)
New solution: 444404 (127 backtracks, 892 nodes, depth 2)
New solution: 435004 (127 backtracks, 892 nodes, depth 1)
New solution: 394609 (142 backtracks, 980 nodes, depth 2)
New solution: 394511 (142 backtracks, 980 nodes, depth 1)
New solution: 384514 (158 backtracks, 1053 nodes, depth 2)
New solution: 384512 (158 backtracks, 1053 nodes, depth 1)
New solution: 384412 (163 backtracks, 1075 nodes, depth 2)
New solution: 384411 (163 backtracks, 1075 nodes, depth 1)
New solution: 384409 (163 backtracks, 1076 nodes, depth 2)
New solution: 374409 (168 backtracks, 1091 nodes, depth 2)
New solution: 374408 (168 backtracks, 1091 nodes, depth 1)
New solution: 364406 (168 backtracks, 1091 nodes, depth 1)
New solution: 364405 (168 backtracks, 1093 nodes, depth 2)
New solution: 364308 (217 backtracks, 1375 nodes, depth 2)
New solution: 364108 (220 backtracks, 1391 nodes, depth 2)
New solution: 364107 (258 backtracks, 1625 nodes, depth 1)
New solution: 364106 (272 backtracks, 1678 nodes, depth 1)
New solution: 364105 (383 backtracks, 2504 nodes, depth 1)
****** Restart 2 with 2 discrepancies and UB=364105 ****** (4399 nodes)
New solution: 364104 (771 backtracks, 5441 nodes, depth 3)
****** Restart 3 with 2 discrepancies and UB=364104 ****** (6823 nodes)

Time limit expired... Aborting...
\end{DoxyCode}}
\item Download file {\em 404.wcsp}. Solve it using Depth-First Brand and Bound with Tree Decomposition and HBFS (BTD-HBFS)~\cite{Schiex06a} based on a min-fill variable ordering:
\begin{DoxyCode}
	toulbar2 EXAMPLES/404.wcsp -O=-3 -B=1
\end{DoxyCode}
{\scriptsize
\begin{DoxyCode}
Read 100 variables, with 4 values at most, and 710 cost functions, with maximum arity 3.
Cost function decomposition time : 4.7e-05 seconds.
Reverse DAC dual bound: 64 (+35.938%)
Reverse DAC dual bound: 66 (+3.030%)
Reverse DAC dual bound: 67 (+1.493%)
Preprocessing time: 0.007 seconds.
88 unassigned variables, 228 values in all current domains (med. size:2, max size:4) and 591 non-unary cost functions (med. degree:13)
Initial lower and upper bounds: [67, 155] 56.774%
Tree decomposition width  : 19
Tree decomposition height : 43
Number of clusters        : 47
Tree decomposition time: 0.002 seconds.
New solution: 124 (20 backtracks, 35 nodes, depth 2)
Optimality gap: [70, 124] 43.548 % (20 backtracks, 35 nodes)
New solution: 123 (34 backtracks, 64 nodes, depth 2)
Optimality gap: [77, 123] 37.398 % (34 backtracks, 64 nodes)
New solution: 119 (173 backtracks, 348 nodes, depth 2)
Optimality gap: [88, 119] 26.050 % (173 backtracks, 348 nodes)
Optimality gap: [91, 119] 23.529 % (202 backtracks, 442 nodes)
New solution: 117 (261 backtracks, 609 nodes, depth 2)
Optimality gap: [97, 117] 17.094 % (261 backtracks, 609 nodes)
New solution: 114 (342 backtracks, 858 nodes, depth 2)
Optimality gap: [98, 114] 14.035 % (342 backtracks, 858 nodes)
Optimality gap: [100, 114] 12.281 % (373 backtracks, 984 nodes)
Optimality gap: [101, 114] 11.404 % (437 backtracks, 1123 nodes)
Optimality gap: [102, 114] 10.526 % (446 backtracks, 1152 nodes)
Optimality gap: [103, 114] 9.649 % (484 backtracks, 1232 nodes)
Optimality gap: [104, 114] 8.772 % (521 backtracks, 1334 nodes)
Optimality gap: [105, 114] 7.895 % (521 backtracks, 1353 nodes)
Optimality gap: [106, 114] 7.018 % (525 backtracks, 1364 nodes)
Optimality gap: [107, 114] 6.140 % (525 backtracks, 1379 nodes)
Optimality gap: [109, 114] 4.386 % (534 backtracks, 1539 nodes)
Optimality gap: [111, 114] 2.632 % (536 backtracks, 1559 nodes)
Optimality gap: [113, 114] 0.877 % (536 backtracks, 1564 nodes)
Optimality gap: [114, 114] 0.000 % (536 backtracks, 1598 nodes)
HBFS open list restarts: 0.000 % and reuse: 11.080 % of 352
Node redundancy during HBFS: 34.355 %
Optimum: 114 in 536 backtracks and 1598 nodes ( 23 removals by DEE) and 0.030 seconds.
end.
\end{DoxyCode}}
\item Solve the same problem using Russian Doll Search exploiting BTD~\cite{Sanchez09a}:
\begin{DoxyCode}
	toulbar2 EXAMPLES/404.wcsp -O=-3 -B=2
\end{DoxyCode}
{\scriptsize
\begin{DoxyCode}
Read 100 variables, with 4 values at most, and 710 cost functions, with maximum arity 3.
Cost function decomposition time : 4.7e-05 seconds.
Reverse DAC dual bound: 64 (+35.938%)
Reverse DAC dual bound: 66 (+3.030%)
Reverse DAC dual bound: 67 (+1.493%)
Preprocessing time: 0.007 seconds.
88 unassigned variables, 228 values in all current domains (med. size:2, max size:4) and 591 non-unary cost functions (med. degree:13)
Initial lower and upper bounds: [67, 155] 56.774%
Tree decomposition width  : 19
Tree decomposition height : 43
Number of clusters        : 47
Tree decomposition time: 0.002 seconds.
--- Solving cluster subtree 5 ...
New solution: 0 (0 backtracks, 0 nodes, depth 1)
---  done  cost = [0,0] (0 backtracks, 0 nodes, depth 1)

--- Solving cluster subtree 6 ...
New solution: 0 (0 backtracks, 0 nodes, depth 1)
---  done  cost = [0,0] (0 backtracks, 0 nodes, depth 1)

--- Solving cluster subtree 7 ...

...

--- Solving cluster subtree 44 ...
New solution: 42 (417 backtracks, 720 nodes, depth 5)
New solution: 39 (428 backtracks, 741 nodes, depth 8)
New solution: 35 (444 backtracks, 783 nodes, depth 21)
---  done  cost = [35,35] (554 backtracks, 958 nodes, depth 1)

--- Solving cluster subtree 46 ...
New solution: 114 (554 backtracks, 958 nodes, depth 1)
---  done  cost = [114,114] (554 backtracks, 958 nodes, depth 1)

Optimum: 114 in 554 backtracks and 958 nodes ( 50 removals by DEE) and 0.026 seconds.
end.
\end{DoxyCode}}
\item Solve another WCSP using the original Russian Doll Search method~\cite{Verfaillie96} with static variable
ordering (following problem file) and soft arc consistency:
\begin{DoxyCode}
	toulbar2 EXAMPLES/505.wcsp -B=3 -j=1 -svo -k=1
\end{DoxyCode}
{\scriptsize
\begin{DoxyCode}
Read 240 variables, with 4 values at most, and 2242 cost functions, with maximum arity 3.
Cost function decomposition time : 0.000826 seconds.
Preprocessing time: 0.014949 seconds.
233 unassigned variables, 666 values in all current domains (med. size:2, max size:4) and 1966 non-unary cost functions (med. degree:16)
Initial lower and upper bounds: [2, 34347] 99.994%
Tree decomposition width  : 59
Tree decomposition height : 233
Number of clusters        : 239
Tree decomposition time: 0.017 seconds.
--- Solving cluster subtree 0 ...
New solution: 0 (0 backtracks, 0 nodes, depth 1)
---  done  cost = [0,0] (0 backtracks, 0 nodes, depth 1)

--- Solving cluster subtree 1 ...
New solution: 0 (0 backtracks, 0 nodes, depth 1)
---  done  cost = [0,0] (0 backtracks, 0 nodes, depth 1)

--- Solving cluster subtree 2 ...

...

--- Solving cluster subtree 3 ...
New solution: 21253 (26963 backtracks, 48851 nodes, depth 2)
New solution: 21251 (26991 backtracks, 48883 nodes, depth 3)
---  done  cost = [21251,21251] (26992 backtracks, 48883 nodes, depth 1)

--- Solving cluster subtree 238 ...
New solution: 21253 (26992 backtracks, 48883 nodes, depth 1)
---  done  cost = [21253,21253] (26992 backtracks, 48883 nodes, depth 1)

Optimum: 21253 in 26992 backtracks and 48883 nodes ( 0 removals by DEE) and 5.931 seconds.
end.
\end{DoxyCode}}
\item Solve the same WCSP using a parallel variable neighborhood search algorithm (UPDGVNS) with min-fill cluster decomposition~\cite{Ouali17} using 4 cores during 5 seconds:
\begin{DoxyCode}
	mpirun -n 4 toulbar2 EXAMPLES/505.wcsp -vns -O=-3 -time=5
\end{DoxyCode}
{\scriptsize
\begin{DoxyCode}
Read 240 variables, with 4 values at most, and 2242 cost functions, with maximum arity 3.
Cost function decomposition time : 0.001761 seconds.
Reverse DAC dual bound: 11120 (+81.403%)
Reverse DAC dual bound: 11128 (+0.072%)
Preprocessing time: 0.065 seconds.
233 unassigned variables, 666 values in all current domains (med. size:2, max size:4) and 1966 non-unary cost functions (med. degree:16)
Initial lower and upper bounds: [11128, 34354] 67.608%
Tree decomposition time: 0.018 seconds.
Problem decomposition in 89 clusters with size distribution: min: 4 median: 11 mean: 11.831 max: 23
New solution: 26266 (0 backtracks, 59 nodes, depth 60)
New solution: 26265 in 0.037 seconds.
New solution: 26264 in 0.041 seconds.
New solution: 26260 in 0.043 seconds.
New solution: 26258 in 0.046 seconds.
New solution: 25259 in 0.048 seconds.
New solution: 24260 in 0.079 seconds.
New solution: 24259 in 0.082 seconds.
New solution: 23260 in 0.091 seconds.
New solution: 23259 in 0.104 seconds.
New solution: 23258 in 0.114 seconds.
New solution: 23257 in 0.124 seconds.
New solution: 23256 in 0.148 seconds.
New solution: 23255 in 0.152 seconds.
New solution: 23254 in 0.179 seconds.
New solution: 23253 in 0.226 seconds.
New solution: 23252 in 0.240 seconds.
New solution: 23251 in 0.247 seconds.
New solution: 23250 in 0.253 seconds.
New solution: 23249 in 0.264 seconds.
New solution: 23247 in 0.383 seconds.
New solution: 22257 in 0.394 seconds.
New solution: 22256 in 0.399 seconds.
New solution: 22254 in 0.403 seconds.
New solution: 22253 in 0.414 seconds.
New solution: 21254 in 0.420 seconds.
New solution: 21253 in 0.429 seconds.
--------------------------------------------------------------------------
MPI_ABORT was invoked on rank 2 in communicator MPI_COMM_WORLD 
with errorcode 0.

NOTE: invoking MPI_ABORT causes Open MPI to kill all MPI processes.
You may or may not see output from other processes, depending on
exactly when Open MPI kills them.
--------------------------------------------------------------------------

Time limit expired... Aborting...
\end{DoxyCode}}
\item Download a cluster decomposition file {\em example.dec} (each line corresponds to a cluster of variables, clusters may overlap). Solve a WCSP using a variable neighborhood search algorithm (UDGVNS) with a given cluster decomposition:
\begin{DoxyCode}
	toulbar2 EXAMPLES/example.wcsp EXAMPLES/example.dec -vns
\end{DoxyCode}
{\scriptsize
\begin{DoxyCode}
Read 25 variables, with 5 values at most, and 63 cost functions, with maximum arity 2.
Cost function decomposition time : 8e-06 seconds.
Reverse DAC dual bound: 20 (+10.000%)
Preprocessing time: 0.001 seconds.
24 unassigned variables, 116 values in all current domains (med. size:5, max size:5) and 62 non-unary cost functions (med. degree:5)
Initial lower and upper bounds: [20, 64] 68.750%
New solution: 28 (0 backtracks, 6 nodes, depth 7)
Problem decomposition in 7 clusters with size distribution: min: 11 median: 15 mean: 15.143 max: 17
****** Restart 1 with 1 discrepancies and UB=28 ****** (6 nodes)
New solution: 27 (0 backtracks, 6 nodes, depth 1)
****** Restart 2 with 2 discrepancies and UB=27 ****** (51 nodes)
****** Restart 3 with 4 discrepancies and UB=27 ****** (127 nodes)
****** Restart 4 with 8 discrepancies and UB=27 ****** (347 nodes)
****** Restart 5 with 16 discrepancies and UB=27 ****** (917 nodes)
Optimum: 27 in 601 backtracks and 1307 nodes ( 1775 removals by DEE) and 0.039 seconds.
end.
\end{DoxyCode}}
\item Solve a WCSP using a parallel variable neighborhood search algorithm (UPDGVNS) with the same cluster decomposition:
\begin{DoxyCode}
	mpirun -n 4 toulbar2 EXAMPLES/example.wcsp EXAMPLES/example.dec -vns
\end{DoxyCode}
{\scriptsize
\begin{DoxyCode}
Read 25 variables, with 5 values at most, and 63 cost functions, with maximum arity 2.
Cost function decomposition time : 1.4e-05 seconds.
Reverse DAC dual bound: 20 (+10.000%)
Preprocessing time: 0.001 seconds.
24 unassigned variables, 116 values in all current domains (med. size:5, max size:5) and 62 non-unary cost functions (med. degree:5)
Initial lower and upper bounds: [20, 64] 68.750%
Problem decomposition in 7 clusters with size distribution: min: 11 median: 15 mean: 15.143 max: 17
New solution: 28 (0 backtracks, 7 nodes, depth 8)
New solution: 27 in 0.001 seconds.
Optimum: 27 in 0 backtracks and 7 nodes ( 36 removals by DEE) and 0.057 seconds.
Total CPU time = 0.267 seconds
Solving real-time = 0.068 seconds (not including preprocessing time)
end.
\end{DoxyCode}}
\item Download file {\em example.order}. Solve a WCSP using BTD-HBFS based on a given (min-fill) reverse variable elimination ordering:
\begin{DoxyCode}
	toulbar2 EXAMPLES/example.wcsp EXAMPLES/example.order -B=1
\end{DoxyCode}
{\scriptsize
\begin{DoxyCode}
Read 25 variables, with 5 values at most, and 63 cost functions, with maximum arity 2.
Cost function decomposition time : 9e-06 seconds.
Reverse DAC dual bound: 20 (+10.000%)
Reverse DAC dual bound: 21 (+4.762%)
Preprocessing time: 0.001 seconds.
24 unassigned variables, 116 values in all current domains (med. size:5, max size:5) and 62 non-unary cost functions (med. degree:5)
Initial lower and upper bounds: [21, 64] 67.188%
Tree decomposition width  : 8
Tree decomposition height : 16
Number of clusters        : 18
Tree decomposition time: 0.000 seconds.
New solution: 29 (19 backtracks, 30 nodes, depth 2)
New solution: 28 (37 backtracks, 62 nodes, depth 2)
Optimality gap: [22, 28] 21.429 % (37 backtracks, 62 nodes)
Optimality gap: [23, 28] 17.857 % (285 backtracks, 581 nodes)
New solution: 27 (304 backtracks, 624 nodes, depth 2)
Optimality gap: [23, 27] 14.815 % (304 backtracks, 624 nodes)
Optimality gap: [24, 27] 11.111 % (323 backtracks, 676 nodes)
Optimality gap: [25, 27] 7.407 % (350 backtracks, 775 nodes)
Optimality gap: [26, 27] 3.704 % (350 backtracks, 785 nodes)
Optimality gap: [27, 27] 0.000 % (350 backtracks, 829 nodes)
HBFS open list restarts: 0.000 % and reuse: 10.769 % of 65
Node redundancy during HBFS: 17.612 %
Optimum: 27 in 350 backtracks and 829 nodes ( 209 removals by DEE) and 0.018 seconds.
end.
\end{DoxyCode}}
\item Download file {\em example.cov}. Solve a WCSP using BTD-HBFS based on a given explicit (min-fill path-) tree-decomposition:
\begin{DoxyCode}
	toulbar2 EXAMPLES/example.wcsp EXAMPLES/example.cov -B=1
\end{DoxyCode}
{\scriptsize
\begin{DoxyCode}
Read 25 variables, with 5 values at most, and 63 cost functions, with maximum arity 2.
Warning! Cannot apply variable elimination during search with a given tree decomposition file.
Warning! Cannot apply functional variable elimination with a given tree decomposition file.
Cost function decomposition time : 9e-06 seconds.
Reverse DAC dual bound: 19 (+10.526%)
Reverse DAC dual bound: 22 (+13.636%)
Preprocessing time: 0.001 seconds.
25 unassigned variables, 120 values in all current domains (med. size:5, max size:5) and 63 non-unary cost functions (med. degree:5)
Initial lower and upper bounds: [22, 64] 65.625%
Tree decomposition width  : 16
Tree decomposition height : 24
Number of clusters         : 9
Tree decomposition time: 0.000 seconds.
New solution: 29 (23 backtracks, 29 nodes, depth 2)
New solution: 28 (32 backtracks, 46 nodes, depth 2)
Optimality gap: [23, 28] 17.857 % (37 backtracks, 58 nodes)
New solution: 27 (61 backtracks, 122 nodes, depth 2)
Optimality gap: [23, 27] 14.815 % (61 backtracks, 122 nodes)
Optimality gap: [24, 27] 11.111 % (132 backtracks, 269 nodes)
Optimality gap: [25, 27] 7.407 % (168 backtracks, 377 nodes)
Optimality gap: [26, 27] 3.704 % (176 backtracks, 441 nodes)
Optimality gap: [27, 27] 0.000 % (176 backtracks, 456 nodes)
HBFS open list restarts: 0.000 % and reuse: 25.926 % of 27
Node redundancy during HBFS: 26.974 %
Optimum: 27 in 176 backtracks and 456 nodes ( 47 removals by DEE) and 0.009 seconds.
end.
\end{DoxyCode}}
\item Download a Markov Random Field (MRF) file {\em pedigree9.uai} in UAI format from the toulbar2's Documentation Web page. Solve it using bounded (of degree at most 8) variable elimination enhanced by cost function decomposition in preprocessing~\cite{Favier11a} followed by BTD-HBFS exploiting only small-size (less than four variables) separators:
\begin{DoxyCode}
	toulbar2 EXAMPLES/pedigree9.uai -O=-3 -p=-8 -B=1 -r=4
\end{DoxyCode}
{\scriptsize
\begin{DoxyCode}
Read 1118 variables, with 7 values at most, and 1118 cost functions, with maximum arity 4.
No evidence file specified. Trying EXAMPLES/pedigree9.uai.evid
No evidence file. 
Generic variable elimination of degree 4
Maximum degree of generic variable elimination: 4
Cost function decomposition time : 0.003702 seconds.
Preprocessing time: 0.071202 seconds.
232 unassigned variables, 517 values in all current domains (med. size:2, max size:7) and 415 non-unary cost functions (med. degree:6)
Initial lower and upper bounds: [553902779, 13246577453] 95.819%
Tree decomposition width  : 227
Tree decomposition height : 230
Number of clusters        : 890
Tree decomposition time: 0.046 seconds.
New solution: 865165767 energy: 298.395 prob: 2.564e-130 (72 backtracks, 140 nodes, depth 2)
New solution: 844300454 energy: 296.308 prob: 2.065e-129 (128 backtracks, 254 nodes, depth 2)
New solution: 819061410 energy: 293.784 prob: 2.577e-128 (185 backtracks, 368 nodes, depth 2)
New solution: 812515216 energy: 293.130 prob: 4.959e-128 (361 backtracks, 756 nodes, depth 2)
New solution: 806836620 energy: 292.562 prob: 8.751e-128 (399 backtracks, 834 nodes, depth 2)
New solution: 784864376 energy: 290.365 prob: 7.876e-127 (541 backtracks, 1147 nodes, depth 2)
New solution: 734383216 energy: 285.316 prob: 1.226e-124 (871 backtracks, 1935 nodes, depth 2)
New solution: 733157137 energy: 285.194 prob: 1.386e-124 (1011 backtracks, 2221 nodes, depth 2)
New solution: 727478541 energy: 284.626 prob: 2.446e-124 (1280 backtracks, 2777 nodes, depth 2)
New solution: 711570069 energy: 283.035 prob: 1.201e-123 (1418 backtracks, 3059 nodes, depth 2)
New solution: 711184893 energy: 282.997 prob: 1.248e-123 (1566 backtracks, 3371 nodes, depth 2)
HBFS open list restarts: 0.000 % and reuse: 44.123 % of 1591
Node redundancy during HBFS: 27.638 %
Optimum: 711184893 energy: 282.997 prob: 1.248e-123 in 22331 backtracks and 61690 nodes ( 19131 removals by DEE) and 4.370 seconds.
end.
\end{DoxyCode}}
\item Download another MRF file {\em GeomSurf-7-gm256.uai}. Solve it using Virtual Arc Consistency (VAC) in preprocessing~\cite{Cooper08} and exploit a VAC-based value ordering heuristic~\cite{Cooper10a}:
\begin{DoxyCode}
	toulbar2 EXAMPLES/GeomSurf-7-gm256.uai -A -V
\end{DoxyCode}
{\scriptsize
\begin{DoxyCode}
Read 787 variables, with 7 values at most, and 3527 cost functions, with maximum arity 3.
No evidence file specified. Trying EXAMPLES/GeomSurf-7-gm256.uai.evid
No evidence file. 
Cost function decomposition time : 0.000872 seconds.
Reverse DAC dual bound: 5875262175 energy: 1073.708 (+0.093%)
VAC dual bound: 5907774920 energy: 1076.959 (iter:519)
Preprocessing time: 2.280 seconds.
729 unassigned variables, 4819 values in all current domains (med. size:7, max size:7) and 3127 non-unary cost functions (med. degree:6)
Initial lower and upper bounds: [5907774920, 111615200815] 94.707%
c 2097152 Bytes allocated for long long stack.
c 4194304 Bytes allocated for long long stack.
New solution: 5922481881 energy: 1078.430 prob: 4.404e-469 (0 backtracks, 118 nodes, depth 119)
Optimality gap: [5922481881, 5922481881] 0.000 % (66 backtracks, 184 nodes)
Node redundancy during HBFS: 0.000 %
Optimum: 5922481881 energy: 1078.430 prob: 4.404e-469 in 66 backtracks and 184 nodes ( 2925 removals by DEE) and 2.339 seconds.
end.
\end{DoxyCode}}
\item Download another MRF file {\em 1CM1.uai}. Solve it by applying first a strong dominance pruning test in preprocessing, and secondly, a modified variable ordering heuristic during search~\cite{Schiex14a}:
\begin{DoxyCode}
	toulbar2 EXAMPLES/1CM1.uai -dee=2 -m=2
\end{DoxyCode}
{\scriptsize
\begin{DoxyCode}
Read 37 variables, with 350 values at most, and 703 cost functions, with maximum arity 2.
No evidence file specified. Trying EXAMPLES/1CM1.uai.evid
No evidence file. 
Cost function decomposition time : 0.000286 seconds.
Reverse DAC dual bound: 101516542750 energy: -12733.307 (+0.961%)
Reverse DAC dual bound: 101545055767 energy: -12730.456 (+0.028%)
Preprocessing time: 9.087 seconds.
37 unassigned variables, 1679 values in all current domains (med. size:33, max size:350) and 624 non-unary cost functions (med. degree:35)
Initial lower and upper bounds: [101545055767, 239074057808] 57.526%
c 2097152 Bytes allocated for long long stack.
c 4194304 Bytes allocated for long long stack.
c 8388608 Bytes allocated for long long stack.
c 16777216 Bytes allocated for long long stack.
c 33554432 Bytes allocated for long long stack.
c 67108864 Bytes allocated for long long stack.
c 134217728 Bytes allocated for long long stack.
New solution: 104352979111 energy: -12449.664 prob: inf (0 backtracks, 52 nodes, depth 53)
Optimality gap: [103514214916, 104352979111] 0.804 % (18 backtracks, 70 nodes)
New solution: 104221186119 energy: -12462.843 prob: inf (18 backtracks, 78 nodes, depth 8)
Optimality gap: [103890459241, 104221186119] 0.317 % (22 backtracks, 82 nodes)
New solution: 104174014744 energy: -12467.560 prob: inf (22 backtracks, 87 nodes, depth 2)
Optimality gap: [103923500120, 104174014744] 0.240 % (22 backtracks, 87 nodes)
Optimality gap: [103959074242, 104174014744] 0.206 % (24 backtracks, 102 nodes)
Optimality gap: [103977982249, 104174014744] 0.188 % (25 backtracks, 109 nodes)
Optimality gap: [104174014744, 104174014744] 0.000 % (25 backtracks, 121 nodes)
Node redundancy during HBFS: 27.273 %
Optimum: 104174014744 energy: -12467.560 prob: inf in 25 backtracks and 121 nodes ( 3990 removals by DEE) and 9.995 seconds.
end.
\end{DoxyCode}}
\item Download a weighted Max-SAT file {\em brock200\_4.clq.wcnf} in wcnf format from the toulbar2's Documentation Web page. Solve it using a modified variable ordering heuristic~\cite{Schiex14a}:
\begin{DoxyCode}
	toulbar2 EXAMPLES/brock200_4.clq.wcnf -m=1
\end{DoxyCode}
{\scriptsize
\begin{DoxyCode}
c Read 200 variables, with 2 values at most, and 7011 clauses, with maximum arity 2.
Cost function decomposition time : 0.000375 seconds.
Reverse DAC dual bound: 91 (+86.813%)
Reverse DAC dual bound: 92 (+1.087%)
Preprocessing time: 0.036 seconds.
200 unassigned variables, 400 values in all current domains (med. size:2, max size:2) and 6811 non-unary cost functions (med. degree:68)
Initial lower and upper bounds: [92, 200] 54.000%
New solution: 189 (0 backtracks, 9 nodes, depth 10)
New solution: 188 (45 backtracks, 143 nodes, depth 36)
New solution: 187 (231 backtracks, 593 nodes, depth 34)
New solution: 185 (563 backtracks, 1305 nodes, depth 38)
New solution: 184 (27911 backtracks, 58966 nodes, depth 27)
New solution: 183 (298856 backtracks, 904243 nodes, depth 1)
Node redundancy during HBFS: 34.243 %
Optimum: 183 in 298932 backtracks and 909198 nodes ( 7535 removals by DEE) and 26.918 seconds.
end.
\end{DoxyCode}}
\item Download another WCSP file {\em latin4.wcsp}. Count the number of feasible solutions:
\begin{DoxyCode}
	toulbar2 EXAMPLES/latin4.wcsp -a
\end{DoxyCode}
{\scriptsize
\begin{DoxyCode}
Read 16 variables, with 4 values at most, and 24 cost functions, with maximum arity 4.
Cost function decomposition time : 2e-06 seconds.
Reverse DAC dual bound: 48 (+2.083%)
Preprocessing time: 0.006 seconds.
16 unassigned variables, 64 values in all current domains (med. size:4, max size:4) and 8 non-unary cost functions (med. degree:6)
Initial lower and upper bounds: [48, 1000] 95.200%
Optimality gap: [49, 1000] 95.100 % (17 backtracks, 41 nodes)
Optimality gap: [58, 1000] 94.200 % (355 backtracks, 812 nodes)
Optimality gap: [72, 1000] 92.800 % (575 backtracks, 1309 nodes)
Optimality gap: [1000, 1000] 0.000 % (575 backtracks, 1318 nodes)
Number of solutions    : =  576
Time                   :    0.310 seconds
... in 575 backtracks and 1318 nodes
end.
\end{DoxyCode}}
\item Download a crisp CSP file {\em GEOM40\_6.wcsp} (initial upper bound equal to 1). Count the number of solutions using \#BTD~\cite{Favier09a} using a min-fill variable ordering\footnote{Warning, cannot use BTD to find all solutions in optimization.}:
\begin{DoxyCode}
	toulbar2 EXAMPLES/GEOM40_6.wcsp -O=-3 -a -B=1 -ub=1 -hbfs:
\end{DoxyCode}
{\scriptsize
\begin{DoxyCode}
Read 40 variables, with 6 values at most, and 78 cost functions, with maximum arity 2.
Cost function decomposition time : 5e-06 seconds.
Preprocessing time: 0.000937 seconds.
40 unassigned variables, 240 values in all current domains (med. size:6, max size:6) and 78 non-unary cost functions (med. degree:4)
Initial lower and upper bounds: [0, 1] 100.000%
Tree decomposition width  : 5
Tree decomposition height : 20
Number of clusters        : 29
Tree decomposition time: 0.000 seconds.
Number of solutions    : =  411110802705928379432960
Number of #goods       :    3993
Number of used #goods  :    17190
Size of sep            :    4
Time                   :    0.055 seconds
... in 13689 backtracks and 27378 nodes
end.
\end{DoxyCode}}
\item Get a quick approximation of the number of solutions of a CSP with Approx\#BTD~\cite{Favier09a}:
\begin{DoxyCode}
	toulbar2 EXAMPLES/GEOM40_6.wcsp -O=-3 -a -B=1 -D -ub=1 -hbfs:
\end{DoxyCode}
{\scriptsize
\begin{DoxyCode}
Read 40 variables, with 6 values at most, and 78 cost functions, with maximum arity 2.
Cost function decomposition time : 6e-06 seconds.
Preprocessing time: 0.000965 seconds.
40 unassigned variables, 240 values in all current domains (med. size:6, max size:6) and 78 non-unary cost functions (med. degree:4)
Initial lower and upper bounds: [0, 1] 100.000%

part 1 : 40 variables and 71 constraints (really added)
part 2 : 10 variables and 7 constraints (really added)
--> number of parts : 2
--> time : 0.000 seconds. 

Tree decomposition width  : 5
Tree decomposition height : 17
Number of clusters        : 33
Tree decomposition time: 0.001 seconds.

Cartesian product 		   :    13367494538843734031554962259968
Upper bound of number of solutions : <= 1719926784000000000000000
Number of solutions    : ~= 480000000000000000000000
Number of #goods       :    468
Number of used #goods  :    4788
Size of sep            :    3
Time                   :    0.012 seconds
... in 3738 backtracks and 7476 nodes
end.
\end{DoxyCode}}
\end{enumerate}
